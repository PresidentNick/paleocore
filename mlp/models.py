from django.contrib.gis.db import models


# Model for occurrence table generated by inspect.db
# TODO prune unused fields, commented below, from the database
class Occurrence(models.Model):
    objectid = models.IntegerField(primary_key=True)
    barcode = models.IntegerField(blank=True, null=True)
    date_last_modified = models.DateTimeField("Date Last Modified",blank=True, null=True, db_column="datelastmodified")
    basis_of_record = models.CharField("Basis of Record", max_length=50, blank=True, db_column="basisofrecord")
    item_type = models.CharField("Item Type", max_length=255, blank=True, db_column="itemtype")
    institutional_code = models.CharField("Institutional Code", max_length=20, blank=True, db_column="institutionalcode")
    collection_code = models.CharField("Collection Code", max_length=20, blank=True, db_column="collectioncode")

    # The paleolocalitynumber and paleosublocality fields exists in the database but are not currently in use.
    # The fields are holdovers from the drp database. We're preserving them in the database
    # in case we decide to implement localities in the future.
    #paleolocalitynumber = models.IntegerField("Paleolocality Number", blank=True, null=True)
    #paleosublocality = models.CharField("Paleo Sublocality", max_length=50, blank=True)
    item_number = models.CharField("Item Number", max_length=50, blank=True, db_column="itemnumber")
    item_part = models.CharField("Item Part", max_length=10, blank=True, db_column="itempart")
    catalog_number = models.CharField("Catalog Number", max_length=255, blank=True, db_column="catalognumber")
    # TODO add richtext field for remarks
    remarks = models.CharField(max_length=255, blank=True)
    item_scientific_name = models.CharField("Item Scientific Name", max_length=255, blank=True, db_column="itemscientificname")
    item_description = models.CharField("Item Description", max_length=255, blank=True, db_column="itemdescription")
    #stateprovince = models.CharField(max_length=50, blank=True)  # site attribute rather than item attribute
    #locality = models.CharField(max_length=255, blank=True)  # site attribute rather than item attribute
    #verbatimcoordinates = models.CharField(max_length=50, blank=True)
    #verbatimcoordinatesystem = models.CharField(max_length=50, blank=True)
    georeference_remarks = models.CharField(max_length=50, blank=True, db_column="georeferenceremarks")
    #utmzone = models.IntegerField(blank=True, null=True)
    #utmeast = models.DecimalField(max_digits=38, decimal_places=8, blank=True, null=True)
    #utmnorth = models.DecimalField(max_digits=38, decimal_places=8, blank=True, null=True)
    #geodeticdatum = models.CharField(max_length=20, blank=True)
    collecting_method = models.CharField("Collecting Method", max_length=50, blank=True, db_column="collectingmethod")
    related_catalog_items = models.CharField("Related Catalog Items", max_length=50, blank=True, db_column="relatedcatalogitems")
    #earliestdatecollected = models.DateTimeField("Earliest Date Collected", blank=True, null=True)  # redundant with field number
    #dayofyear = models.IntegerField(blank=True, null=True)  # unnecessary?
    collector = models.CharField(max_length=50, blank=True)
    finder = models.CharField(max_length=50, blank=True)
    disposition = models.CharField(max_length=255, blank=True)
    #collection_remarks = models.CharField(max_length=255, blank=True, db_column="collectionremarks")
    field_number = models.DateTimeField(blank=True, null=True, db_column="fieldnumber")
    #monthcollected = models.CharField(max_length=20, blank=True)
    year_collected = models.IntegerField(blank=True, null=True, db_column="yearcollected")
    individual_count = models.IntegerField(blank=True, null=True, db_column="individualcount")
    preparation_status = models.CharField(max_length=50, blank=True, db_column="preparationstatus")
    #stratigraphicmarkerupper = models.CharField(max_length=255, blank=True)
    #distancefromupper = models.DecimalField(max_digits=38, decimal_places=8, blank=True, null=True)
    #stratigraphicmarkerlower = models.CharField(max_length=255, blank=True)
    #distancefromlower = models.DecimalField(max_digits=38, decimal_places=8, blank=True, null=True)
    #stratigraphicmarkerfound = models.CharField(max_length=255, blank=True)
    #distancefromfound = models.DecimalField(max_digits=38, decimal_places=8, blank=True, null=True)
    #stratigraphicmarkerlikely = models.CharField(max_length=255, blank=True)
    #distancefromlikely = models.DecimalField(max_digits=38, decimal_places=8, blank=True, null=True)
    #stratigraphicmember = models.CharField(max_length=255, blank=True)
    analytical_unit = models.CharField(max_length=255, blank=True, db_column="analyticalunit")
    #analyticalunit2 = models.CharField(max_length=255, blank=True)
    #analyticalunit3 = models.CharField(max_length=255, blank=True)
    #TODO convert to in_situ and ranked to boolean
    in_situ = models.SmallIntegerField(blank=True, null=True, db_column="insitu", default=0)
    ranked = models.SmallIntegerField(blank=True, null=True)
    image = models.FileField(max_length=255, blank=True, upload_to="uploads/images/mlp", db_column="imageurl")
    #relatedinformation = models.CharField(max_length=50, blank=True)
    #localityid = models.IntegerField(blank=True, null=True)
    #stratigraphicsection = models.CharField(max_length=50, blank=True)
    #stratigraphicheightinmeters = models.DecimalField(max_digits=38, decimal_places=8, blank=True, null=True)
    #specimenimage = models.BinaryField(blank=True, null=True)
    weathering = models.SmallIntegerField(blank=True, null=True)
    surface_modification = models.CharField(max_length=255, blank=True, db_column="surfacemodification")
    #TODO Change presentation to show only 2 decimal places
    point_x = models.DecimalField(max_digits=38, decimal_places=8, blank=True, null=True)
    point_y = models.DecimalField(max_digits=38, decimal_places=8, blank=True, null=True)
    #TODO Change ot boolean
    problem = models.SmallIntegerField(blank=True, null=True)
    problem_comment = models.CharField(max_length=255, blank=True, db_column="problemcomment")
    #TODO change field name to geom
    shape = models.GeometryField(srid=32637, blank=True, null=True)
    objects = models.GeoManager()

    class Meta:
        managed = False
        db_table = 'mlp_occurrence'


